<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Health Monitoring Agent</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container">
    <h1>ğŸ§  AI Health Monitoring Agent</h1>
    <p class="subtitle">Personalized health insights powered by AI</p>

    <div class="input-box">
        <input type="text" id="userId" placeholder="Enter User ID" value="user123">
        <button onclick="fetchHealth()">Check Health</button>
    </div>

    <div id="result"></div>
</div>

<script>
async function fetchHealth() {
    const userId = document.getElementById("userId").value;
    const resultDiv = document.getElementById("result");
    resultDiv.innerHTML = "<p class='loading'>Analyzing health data...</p>";

    const response = await fetch(`/health/${userId}`);
    const data = await response.json();

    resultDiv.innerHTML = `
        <div class="card">
            <h2>âŒš Wearable Data</h2>
            <p>Steps: ${data.latest_wearable_data.steps}</p>
            <p>Sleep Hours: ${data.latest_wearable_data.sleep_hours}</p>
            <p>Resting HR: ${data.latest_wearable_data.resting_heart_rate}</p>
        </div>

        <div class="card">
            <h2>ğŸ¥— Nutrition</h2>
            <ul>${data.nutrition_recommendations.map(i => `<li>${i}</li>`).join("")}</ul>
        </div>

        <div class="card">
            <h2>ğŸ‹ï¸ Exercise Plan</h2>
            <ul>${data.exercise_plan.map(i => `<li>${i}</li>`).join("")}</ul>
        </div>

        <div class="card">
            <h2>ğŸ˜´ Sleep Insights</h2>
            <ul>${data.sleep_insights.map(i => `<li>${i}</li>`).join("")}</ul>
        </div>

        <div class="card">
            <h2>ğŸ¯ Goals</h2>
            <p>Daily Steps: ${data.goals.daily_steps}</p>
            <p>Sleep Hours: ${data.goals.sleep_hours}</p>
            <p>Weekly Workouts: ${data.goals.weekly_workouts}</p>
        </div>
    `;
}
</script>

</body>
</html>
